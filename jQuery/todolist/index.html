<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lista de Tareas</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrapper">
    <h1>Lista de Tareas</h1>

    <input type="text" id="input" placeholder="Cual es tu tarea?">
    <ul class="todo-list">
    </ul>
  </div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>
    $(document).ready(function(){
      
      $('#input').keypress(function(e){
        if(e.which == 13) {
          var tarea = $(this).val();
          $('.todo-list').prepend('<li class="tarea"><span class="check"><input type="checkbox">' + '  '+ tarea+ '</span><span class="cerrar"></span></li>');
          $('#input').val('');

          click();
          mouse();
          close();
        }
      })

      function mouse(){
      $('li').mouseover(function(){
            $(this).css('background','#ddd');
            $(this).children('.cerrar').text('X');
            $('.cerrar').css('display','inline-block');
            $('.cerrar').css('float','right');
          })

          $('li').mouseleave(function(){
            $(this).css('background','white');
            $('.cerrar').text('');
          })  
      }

      function close(){
      $('.cerrar').on('click',function(){
            $(this).parent().remove();
          })  
      }

      function click(){
        $(':checkbox').on('click',function(){
            if ($(this).prop('checked')) {
              $(this).parent().css({'color':'#C0C0C0','text-decoration':'line-through'});
            }
            else {
              $(this).parent().css({'color':'#666','text-decoration':'none'});
            }
          })
      }

    })

  </script>
</body>
</html>
